<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
  <head>
    <meta charset="utf-8">
    <title>Classement</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles.css" type="text/css"/>

  </head>
  <body class="w3-content w3-sand" style="max-width:1600px;">
    <nav class="w3-sidebar w3-collapse w3-animate-left w3-teal" style="z-index:3;width:240px; height: 100%;" id="mySidebar"><br>
      <div class="w3-container">
        <a href="#" onclick="w3_close();" class="w3-hide-large w3-right w3-jumbo w3-padding w3-hover-black" title="close menu">
          <i class="fa fa-remove"></i>
        </a>
        <img src="https://via.placeholder.com/50x50" style="width:40%;" class="w3-round"><br><br>
        <h4><b>MENU</b></h4>
      </div>
      <div id="menu_navbar" class="w3-bar-block" onload="get_menu_navbar();"></div>
    </nav>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close();" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:240px;">

      <!-- Header -->
      <header id="portfolio">
        <a href="#"><img src="https://via.placeholder.com/50x50" style="width:65px;" class="w3-circle w3-right w3-margin w3-hide-large w3-hover-opacity"></a>
        <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open();"><i class="fa fa-bars"></i></span>
        <div class="w3-container">
          <h1><b>Yourquiz</b></h1>
        </div>
      </header>

      <div class="w3-container w3-padding-large" style="margin-bottom:32px">
        <h4><b>Classement des joueurs sur Yourquiz</b></h4>
        <p>Consultez votre classement par rapport aux autres membres de la communauté.
          Les points que vous avez acquis sont sommés pour faire votre total de points. Ce total est visible par tous les visiteurs du site.</p>
      </div>


      <!-- Classement général -->
      <div class="w3-half w3-center w3-padding-small w3-teal" style="border: 1px solid white;" id="GeneralRankingContainer">
        <i class="w3-margin-left fa fa-bitcoin" style="font-size: 3em;"></i>
        <h2>Classement Général</h2>
        <table class="w3-table w3-bordered"></table>
      </div>
      
      <div class="w3-half w3-center w3-padding-small w3-teal" style="border: 1px solid white" id="BestQuizRankingContainer">
        <h2>Quiz les plus populaires</h2>
        <table class="w3-table w3-bordered" id="BestQuizTable"></table>
      </div>

<!--      <div class="w3-center w3-padding-24 w3-teal footer">Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-opacity">w3.css</a></div>-->

      <!-- End page content -->
    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/menuSidebar.js"></script>
    <script>
//          $.getJSON("https://" + SERVER_IP + "/ranking/players", function (data) {
//              
//          }, "json");

          $.getJSON("https://" + SERVER_IP + "/ranking/quizzes", function (data) {
            var bestQuizCounter = 0;
              for (var i = 0; i < data.length; i++) {
                
                  $("#BestQuizTable").append("<tr><td>" + bestQuizCounter + "</td>\n\
            <td><a href=\"./participationQuiz.html?id=" + data[index].id + "\"><button class=\"w2-button\">" + data[index].name + "</button></a></td>\n\
            <td>" + data[index].participations +"</td></tr>");
              bestQuizCounter++;
            }
          }, "json");

          $("#menu_navbar").load("menu/menu_navbar.html");
    </script>
  </body>
</html>
